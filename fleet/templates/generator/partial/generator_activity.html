


 <canvas id="canvas" height="300" width="792" ></canvas>
{% block content_page_js %}


  {% load static %}
<script src="{% static 'dist/Chart.bundle.js' %}"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> 
<script>

    var MONTHS =   [{%  for m in all_request %} "{{ m.created_at_month|date:'M-y' }}", {% endfor %}];
   

    var randomScalingFactor = function() {
      return Math.round(Math.random() * 100 * (Math.random() > 0.5 ? -1 : 1));
    };
    var randomColorFactor = function() {
      return Math.round(Math.random() * 255);
    };
    var randomColor = function(opacity) {
      return 'rgba(' + randomColorFactor() + ',' + randomColorFactor() + ',' + randomColorFactor() + ',' + (opacity || '1') + ')';
    };
 
    var ctx = document.getElementById("canvas").getContext("2d");
    var myChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: [{%  for m in all_request %} "{{ m.created_at_month|date:'M-y' }}", {% endfor %}],

        datasets: [{
          label: "Total Operation Time(Hr)",
          data: [{% for cn in all_request %} {{ cn.ops_hr }}, {% endfor %}],
          borderColor:'rgb(0, 255, 255, .8)',
          backgroundColor:'rgba(51, 137, 173, .6)',
          pointBorderColor :'rgba(51, 137, 173, .4)',
          pointBackgroundColor : 'rgba(51, 137, 173, .4)',
          pointBorderWidth : .5,
          yAxisID: "y-axis-1",


        },  {
          label: "Total Expense (ETB)",
         data: [{% for cn in all_request %} {{ cn.cost_br }}, {% endfor %}],
         borderColor:'rgb(210, 43, 43, .5)',
         backgroundColor:'rgba(51, 137, 173, .4)',
         pointBorderColor :'rgba(51, 137, 173, .4)',
         pointBackgroundColor : 'rgba(51, 137, 173, .4)',
         pointBorderWidth : .5,
         yAxisID: "y-axis-2",

        },]
      },
      options: {
            legend: {
           responsive:true,
           display: true,
          
           "labels": {
            "fontSize": 11,
            
          }
     
    },
                responsive: true,
                hoverMode: 'label',
                stacked: false,
                title:{
                    display:false,
                    text:'Chart.js Line Chart - Multi Axis'
                },
                scales: {
                    xAxes: [{
                        display: true,
                        gridLines: {
                            offsetGridLines: false
                        }
                    }],
                    yAxes: [{
                        type: "linear", // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
                        display: true,
                        position: "left",
                        id: "y-axis-1",
                        ticks: {
                    // Include a dollar sign in the ticks
                    callback: function (value) {
                                return value.toLocaleString();
                            }
                },
                       
                         
                    }, {
                        type: "linear", // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
                        display: true,
                        position: "right",
                        id: "y-axis-2",
                        ticks: {
                    // Include a dollar sign in the ticks
                    callback: function (value) {
                                return  value.toLocaleString();
                            }
                },
                        // grid line settings
                        gridLines: {
                            drawOnChartArea: false, // only want the grid lines for one axis to show up
                        },
                    }],
                }
            },
  

});
 

  


      

</script>
    

{% endblock %}